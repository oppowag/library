<!DOCTYPE html>
<html>
<head>
	<title>Library</title>
	<link rel = "stylesheet" href = "styles.css">
</head>
<body>
	<div style = "text-align: center; margin: 10px;"><button id = "addBook">New Book</button></div>
	
	<table>
		<tr>
			<th>Title</th>
			<th>Author</th>
			<th>Number of pages</th>
			<th>Read</th>
			<th>Delete</th>
			<th>Read status</th>
		</tr>
	</table>

	<script>
		let myLibrary = [];

		function Book(title, author, pages, read){
			this.title = title;
			this.author = author;
			this.pages = pages;
			this.read = read;
		}

		function addBookToLibrary(){
			myLibrary.push(new Book(prompt("Title"), prompt("Author"), prompt("Number of pages"), prompt("Read (yes / no)")));
			render();

			// Add eventListeners to newly created buttons
			document.getElementsByClassName("delete")[0].addEventListener("click",function(){console.log("success");});
			document.getElementsByClassName("read")[0].addEventListener("click",function(){console.log("success");});
		}

		function render(){
			// Select the table to modify
			var table = document.getElementsByTagName("table")[0];
			// Go through array of all books and print each on a new row
			for(i = 0; i < myLibrary.length; i++){
				// Create a new row
				var bookRow = table.insertRow();
				// Fill in attributes of the book in the table in the new row
				var bookKeys = Object.keys(myLibrary[i]);
				for(j = 0; j < bookKeys.length; j++){
					bookRow.insertCell(j).innerHTML = myLibrary[i][bookKeys[j]];
				}
				// Add delete column + button
				var deleteBtn = document.createElement("button");
				deleteBtn.innerHTML = "Delete";
				deleteBtn.classList = "delete";
				bookRow.insertCell(bookKeys.length).appendChild(deleteBtn);
				// Add read column + button
				var readBtn = document.createElement("button");
				readBtn.innerHTML = "Modify";
				readBtn.classList = "read";
				bookRow.insertCell(bookKeys.length + 1).appendChild(readBtn);
			}
		}

		document.getElementById("addBook").addEventListener("click", addBookToLibrary);

	</script>

</body>
</html>